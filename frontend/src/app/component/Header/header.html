<header class="header" *ngIf="!shouldHideNavbar()">
  <nav class="nav">
    <!-- Customer Header -->
    <div class="nav-customer" *ngIf="!isAdminRoute()">
      <div class="nav-left">
        <a routerLink="/home" class="logo">Ecommerce</a>
        <div class="nav-links">
          <a routerLink="/home" routerLinkActive="active">Home</a>
          <a routerLink="/product-listing" routerLinkActive="active">Products</a>
        </div>
      </div>
      <div class="nav-right">
        <div class="nav-actions">
          <!-- Wishlist Button -->
          <a routerLink="/wishlist" class="wishlist-btn" title="Wishlist">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
            <span class="wishlist-count" *ngIf="getWishlistCount() > 0">{{ getWishlistCount() }}</span>
          </a>
          
          <!-- Cart Button -->
          <a routerLink="/cart" class="cart-btn" title="Shopping Cart">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="m1 1 4 4 16 0 -4 10 -10 0"></path>
            </svg>
            <span class="cart-count" *ngIf="getCartCount() > 0">{{ getCartCount() }}</span>
          </a>
          
          <!-- User Menu -->
          <div class="user-menu">
            <div *ngIf="!isLoggedIn">
              <a (click)="goToLogin()" class="login-btn">Login</a>
            </div>
            <div *ngIf="isLoggedIn" class="logged-in-menu">
              <a routerLink="/profile" class="profile-btn" title="Profile">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                {{ getUserName() }}
              </a>
              <a routerLink="/my-orders" class="orders-btn" title="My Orders">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                  <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                </svg>
                My Orders
              </a>
              <button (click)="logout()" class="logout-btn" title="Logout">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                  <polyline points="16,17 21,12 16,7"></polyline>
                  <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Admin Header -->
    <div class="nav-admin" *ngIf="isAdminRoute()">
      <div class="nav-left">
        <a routerLink="/admin/dashboard" class="logo">Admin</a>
        <div class="nav-links">
          <a routerLink="/admin/dashboard" routerLinkActive="active">Dashboard</a>
          <a routerLink="/admin/products" routerLinkActive="active">Products</a>
          <a routerLink="/admin/orders" routerLinkActive="active">Orders</a>
          <a routerLink="/admin/users" routerLinkActive="active">Users</a>
        </div>
      </div>
      <div class="nav-right">
        <div class="nav-actions">
          <div class="admin-user">
            <div *ngIf="isLoggedIn" class="admin-logged-in">
              <span class="admin-label">{{ getUserName() }}</span>
              <button (click)="logout()" class="admin-logout-btn" title="Logout">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                  <polyline points="16,17 21,12 16,7"></polyline>
                  <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
